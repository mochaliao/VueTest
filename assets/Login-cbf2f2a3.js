import{_ as c,r as g,o as l,c as d,a as e,w as b,b as i,v as n,t as h,d as f,e as u,f as p,g as x}from"./index-cffe7e56.js";const y={data(){return{email:"",password:"",message:""}},methods:{authUser(){if(!this.email||!this.password){alert("Please fill in all fields");return}if(!this.validateEmail(this.email)){alert("Invalid email format");return}fetch("http://localhost:8080/graphql",{method:"POST",body:JSON.stringify({query:`mutation {
            authUser(username: "${this.email}", password: "${this.password}")
          }`})}).then(t=>t.json()).then(t=>{t.data!==null&&t.data.authUser!=="false"?(localStorage.setItem("jwt",t.data.authUser),alert("登入成功"),this.$router.push({name:"Index"})):this.message="帳號或密碼輸入錯誤"}).catch(t=>{console.error("新增註冊資料發生錯誤:",t)})},validateEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}}},k={class:"bg-gray-50 dark:bg-gray-900"},w={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},_=e("a",{href:"#",class:"flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"}," Vue + Tailwind ",-1),v={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},U={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},V=e("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Sign in to your account ",-1),S=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email 帳號",-1),N=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Password",-1),P={key:0,class:"mb-4 text-red-500"},q=e("button",{type:"submit",class:"w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," 登入 ",-1),E={class:"text-sm font-light text-gray-500 dark:text-gray-400"};function T(t,r,j,B,s,o){const m=g("router-link");return l(),d("div",null,[e("section",k,[e("div",w,[_,e("div",v,[e("div",U,[V,e("form",{class:"space-y-4 md:space-y-6",onSubmit:r[2]||(r[2]=b((...a)=>o.authUser&&o.authUser(...a),["prevent"]))},[e("div",null,[S,i(e("input",{type:"email",name:"email",id:"email",placeholder:"","onUpdate:modelValue":r[0]||(r[0]=a=>s.email=a),class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[n,s.email]])]),e("div",null,[N,i(e("input",{type:"password",name:"password",id:"password",placeholder:"","onUpdate:modelValue":r[1]||(r[1]=a=>s.password=a),class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[n,s.password]])]),s.message?(l(),d("div",P,h(s.message),1)):f("",!0),q,e("p",E,[u(" 還不是會員嗎？ "),p(m,{class:"font-medium text-blue-600 hover:underline dark:text-blue-500",to:{name:"Register"}},{default:x(()=>[u("請先註冊成為會員")]),_:1})])],32)])])])])])}const I=c(y,[["render",T]]);export{I as default};
